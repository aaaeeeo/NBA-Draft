<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>sys</title>
	<link rel="stylesheet" type="text/css" href="../css/style.css">
	<link rel="stylesheet" type="text/css" href="../css/select.css">
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-sanitize.js"></script>
	<script src="../js/combox.js"></script>
	<script src="../js/select.js"></script>

	<!-- <script src="../js/select2.min.js"></script> -->
	<link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/3.4.5/select2.css">    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.8.5/css/selectize.default.css">
</head>
<body ng-app="myApp">

	<div ng-controller="ResultCtrl" class='container'>
		<div><h2 id="status">{{status_text}}</h2></div>
		<div class='col1 head'>
			<div id="room" class="select">
			    <ui-select data-ng-model="roomModel" theme="select2" ng-change="changedValue('room',roomModel)" style="width: 100%;">
			    	<ui-select-match placeholder="选择一个房间或搜索...">
			    		{{$select.selected.id+' - '+$select.selected.num_type_text+'-'+$select.selected.name || $select.selected}}
			    	</ui-select-match>
			        <ui-select-choices group-by="'num_type_text'" repeat ="room in room | propsFilter: {name: $select.search, num_type_text: $select.search}"  value="{{room}}">
			        <div ng-bind-html="room.name | highlight: $select.search""></div>
				      <small>
				        ID: {{room.id}}
				        价格: {{room.ticket_num}}
				        人数: {{room.num+'/'+room.max_num}}
				      </small>
			        	<!-- {{room.id}} - {{(room.num_type==1?"五人":"八人")}}-{{room.name}} -->
			        </ui-select-choices>
			    </ui-select>
		    </div>
		    <div class='col1'>
		 		<div id="player"  class="select">
			    	{{playerHave}}
				   	<select data-ng-model="playerSelectModel" ng-change="addSelectedPlayer('playerSelectedYes',playerSelectModel)" multiple>
				        <option ng-repeat =" player in allPlayer"  value="{{player.id}}">{{player.player}}</option>
				    </select>
			    </div>
			    <label>已选择球员:
			    	<a ng-repeat =" playerx in player.playerSelectedYes">{{playerx.player}},</a>
			    </label>
			</div>
			<div class='col2'>
			    <div id="player"  class="select">
			    	{{playerNotHave}}
				   	<select data-ng-model="playerSelectNotModel" ng-change="addSelectedPlayer('playerSelectedNo',playerSelectNotModel)" multiple>
				        <option ng-repeat =" player in allPlayer"  value="{{player.id}}">{{player.player}}</option>
				    </select>
			    </div>
			    <label>已去掉球员:
					<a ng-repeat =" playerx in player.playerSelectedNo">{{playerx.player}},</a>
			    </label>
			</div>
		    <div>
				<button ng-click="search()">search</button>
			</div>
		</div>

		

		<div class='content' >
			<table id='tbs' ng-table="tableParams">
				<tr>
					<th>ID</th>
					<th>position</th>
					<th>PLAYER</th>
					<th>POINT</th>
					<th>salary</th>
					<th>lastTen</th>
					<th>timeAvg</th>
					<th>xjb</th>
				</tr>
				<tr ng-repeat="person in people">
	                <td>{{person.id}}</td>
	                <td>{{person.positionEn}}</td>
	                <td>{{person.player}}</td>
	                <td>{{person.point}}</td>
	                <td>{{person.salary}}</td>
	                <td>{{person.lastTen.toString()}}</td>
	               <!--  <td>{{playerPostion[parseInt({{person.position}})-1]}}</td> -->
	                <td>{{person.timeAvg}}</td>
	                <td>{{person.xjb}}</td>
	                
            	</tr>
			</table>
		</div>
	</div>
</body>
	<script type="text/javascript" src="../js/index.js"></script>
</html>